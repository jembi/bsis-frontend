<span style="float: right; padding-right: 15px; font-size: 0.9em">
  <em><a has-permission="{{permissions.ADD_DONATION}}" href="" ng-click="viewAddDonationForm()">Add Donation</a></em>
</span>
<table class="dash-table">
  <tbody>
    <tr>
      <td class="icon"><i class="fa {{icons.CALENDAR}}"></i></td>
      <td class="field">Due To Donate: </td>
      <td class="value">{{dueToDonate | bsisDate:'longDate'}}</td>
    </tr>

    <tr><td></td></tr>
  </tbody>
</table>

<div ng-switch="donationResults">
<div ng-switch-when="true">

  <table ng-table="donationTableParams" show-filter="true" class="table">
      <tr ng-repeat="donation in $data"
          ng-click="changeSelection(donation);"
          ng-mouseenter="this.$selected = true"
          ng-mouseleave="this.$selected = false"
          ng-class="{'active': donation.$selected}">
          <td data-title="'Date'" header-class="text-left" class="col-sm-2 text-center" sortable="'donationDate'"  filter="{ 'donationDate': 'text' }">
              {{donation.donationDate | bsisDate }}
          </td>
          <td data-title="'Panel'" header-class="text-left" class="col-sm-2" sortable="'donorPanel'" filter="{ 'donorPanel': 'text' }">
              {{donation.donorPanel.name}}
          </td>
          <td data-title="'Pack Type'" header-class="text-left" class="col-sm-2" sortable="'packType'" filter="{ 'packType': 'select' }"
              filter-data="packTypeFilter($column)">
              {{donation.packType.packType}}
          </td>
          <td data-title="'Wt'" header-class="text-left" class="col-sm-1 text-center" sortable="'donorWeight'">
              {{donation.donorWeight}} {{weightUnit}}
          </td>
          <td data-title="'BP'" header-class="text-left" class="col-sm-1 text-center" sortable="'bloodPressureSystolic'">
              {{donation.bloodPressureSystolic}}/{{donation.bloodPressureDiastolic}} {{bpUnit}}
          </td>
          <td data-title="'Hb'" header-class="text-left" class="col-sm-2 text-center" sortable="'haemoglobinCount'">
            <span ng-show="getBooleanValue('donation.hbNumericValue')">{{donation.haemoglobinCount}} {{hbUnit}}</span>
            <span ng-show="getBooleanValue('donation.hbNumericValue') && getBooleanValue('donation.hbQualitativeValue')"> (</span>
            <span ng-show="getBooleanValue('donation.hbQualitativeValue')" style="text-transform:capitalize;">{{donation.haemoglobinLevel | lowercase}}</span>
            <span ng-show="getBooleanValue('donation.hbNumericValue') && getBooleanValue('donation.hbQualitativeValue')"> )</span>
          </td>
          <td data-title="'Pulse'" header-class="text-left" class="col-sm-1 text-center" sortable="'donorPulse'">
              {{donation.donorPulse}} {{pulseUnit}}
          </td>
          <td data-title="''" class="col-sm-1 text-center">
            <span style="font-size: 0.9em;" ng-hide="confirmDelete">
              <em><button class="btn btn-link btn-sm" style="padding:5px;" ng-click="viewDonationDetails(donation.donationIdentificationNumber)">View</button></em>
              <em><button class="btn btn-link btn-sm" style="padding:5px;" ng-click="confirmDelete = true" ng-disabled="!donation.permissions.canDelete">Void</button></em>
            </span>
            <span style="font-size: 0.9em;" ng-show="confirmDelete">
              <button class="btn btn-link btn-sm text-danger" style="padding:5px;" ng-click="deleteDonation(donation.id)">Void</button>
              <button class="btn btn-link btn-sm text-muted" style="padding:5px;" ng-click="confirmDelete = false">Cancel</button>
            </span>
          </td>
      </tr>
  </table>
</div>
<div ng-switch-when="false">
      <h4 ><em>No Previous Donations</em></h4>
</div>
</div>
