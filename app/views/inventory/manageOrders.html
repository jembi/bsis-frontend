<div class="col-sm-3 col-md-2" ng-include="'views/inventory/sidebar.html'"></div>
<div class="col-sm-9 col-md-10 main">
  <h3 class="page-header">Manage Orders</h3>

  <div class="panel panel-default">
    <div class="panel-body">

      <h4>Add Order</h4>
      <form class="form-horizontal" name="addOrderForm" role="form" style="padding:0 15px;" ng-submit="addOrder();" novalidate>

        <div class="form-group">
          <label class="col-sm-2" for="orderDate">Date of Order:</label>
          <div class="col-sm-10">
            <dateselect name="orderDate" ng-model="orderForm.orderDate" ng-required="true"></dateselect>
            <ng-messages for="addOrderForm.orderDate.$error" role="alert" ng-show="addOrderForm.$submitted">
              <ng-messages-include src="messages.html"></ng-messages-include>
            </ng-messages>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-2" for="dispatchFrom">Dispatch From:</label>
          <div class="col-sm-10">
            <select class="form-control" style="width:auto;" name="dispatchFrom" ng-model="orderForm.dispatchFrom" ng-options="item.id as item.name for item in distributionSites track by item.id" required>
              <option value="" disabled selected>Select:</option>
            </select>
            <ng-messages for="addOrderForm.dispatchFrom.$error" role="alert" ng-show="addOrderForm.$submitted">
              <ng-messages-include src="messages.html"></ng-messages-include>
            </ng-messages>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-2" for="transferTo">Transfer to Distribution Center:</label>
          <div class="col-sm-10">
            <select class="form-control" style="display:inline-block;width:auto;" name="transferTo" ng-model="orderForm.transferTo" ng-options="item.id as item.name for item in distributionSites track by item.id" ng-disabled="orderForm.issueTo" ng-required="!orderForm.issueTo">
              <option value="" selected></option>
            </select>
            <span>OR</span>
            <ng-messages for="addOrderForm.transferTo.$error" role="alert" ng-show="addOrderForm.$submitted">
              <ng-messages-include src="messages.html"></ng-messages-include>
            </ng-messages>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-2" for="issueTo">Issue to Authorised Facility:</label>
          <div class="col-sm-10">
            <select class="form-control" style="width:auto;" name="issueTo" ng-model="orderForm.issueTo" ng-options="item.id as item.name for item in usageSites track by item.id" ng-disabled="orderForm.transferTo" ng-required="!orderForm.transferTo">
              <option value="" selected></option>
            </select>
            <ng-messages for="addOrderForm.issueTo.$error" role="alert" ng-show="addOrderForm.$submitted">
              <ng-messages-include src="messages.html"></ng-messages-include>
            </ng-messages>
          </div>
        </div>

        <div class="col-sm-offset-2">
          <input class="btn btn-primary" type="submit" value="Add Order" />
          <input class="btn btn-primary" type="button" value="Clear" ng-click="clearForm();" />
        </div>
      </form>
    </div>
  </div>
</div>
