<div class="col-sm-3 col-md-2" ng-include="'views/inventory/sidebar.html'"></div>
<div class="col-sm-9 col-md-10 main">
  <span class="h3 page-header">Manage Order</span>

  <span class="h4" style="float:right; margin-top: 5px; padding-right: 15px; display:inline;">
    <span has-permission="{{permissions.EDIT_ORDER_FORM}}" ng-if="orderForm.permissions.canEdit">
      <em>
        <button class="btn btn-link" ng-click="edit()">Edit</button>
      </em>
    </span>
    <span style="margin-left: 20px; margin-top: -15px; float:right">
      <span has-permission="{{permissions.ISSUE_COMPONENT}}" ng-if="orderForm.permissions.canDelete">
        <button class="btn btn-primary" ng-click="delete()" ng-disabled="deleting">{{deleting ? 'Voiding...' : 'Void'}}</button>
      </span>
      <span has-permission="{{permissions.ISSUE_COMPONENT}}" ng-if="orderForm.permissions.canDispatch">
        <button class="btn btn-primary" ng-click="dispatch()">Dispatch Order</button>
      </span>
      <span has-permission="{{permissions.ISSUE_COMPONENT}}" ng-if="orderForm.status === 'DISPATCHED'">
        <button class="btn btn-primary" ng-click="exportDispatchNote()">Print Dispatch Note</button>
      </span>
    </span>
  </span>

  <hr style="clear:right;"/>
  
  <section>
    <span class="text-muted">Order Date:</span> {{orderForm.orderDate | bsisDate}}
    <span class="text-muted">Dispatched From:</span> {{orderForm.dispatchedFrom.name}}
    <span class="text-muted">Dispatched To:</span> {{orderForm.dispatchedTo.name}}
    <span class="text-muted">Order Type:</span> {{orderForm.type}}
  </section>

  <hr />

  <div class="panel panel-default">
    <div class="panel-body">

      <h4>Units Ordered</h4>

      <div class="col-sm-12">
        <div id="unitsOrderedGrid" class="grid" ui-grid="unitsOrderedGridOptions" ui-grid-pagination></div>
      </div>

      <h4>Units Supplied</h4>

      <div class="col-sm-12">
        <div id="unitsSuppliedGrid" class="grid" ui-grid="unitsSuppliedGridOptions" ui-grid-exporter ui-grid-pagination></div>
      </div>

    </div>
  </div>

</div>
