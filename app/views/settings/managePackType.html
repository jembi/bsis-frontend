<div class="row  main-page" ng-controller="ManagePackTypesCtrl">
    <h3 class="page-header">Manage Pack Type</h3>
    <div class="panel panel-default">
        <div class="panel-body">
            <form name="packTypeForm" novalidate class="form-horizontal col-sm-12"  role="form" ng-submit="savePackType(packType,packTypeForm)">
                <div>
                    <div class="row form-group col-sm-12">
                        <label for="bloodBagType" class="col-sm-2 control-label">Pack Type</label>
                        <div class="col-sm-8">
                            <div class="form-inline">
                                <input size="20" id="bloodBagType" name="bloodBagType" class="form-control input-sm" ng-model="packType.bloodBagType" required
                                       ng-minlength=1 ng-maxlength=30
                                       ng-model-options="{ updateOn:'default blur', debounce: { default: 500, blur: 0 } }"
                                       ng-class="{'ng-invalid ng-dirty' : (packTypeForm.bloodBagType.$invalid && submitted) || bloodBagTypeInvalid }" />

                                <div>
                                    <small class="error" ng-show="serverError.bloodBagType">
                                        {{serverError.bloodBagType}}
                                    </small>
                                    <small class="error" ng-show="(packTypeForm.bloodBagType.$error.required && (packTypeForm.bloodBagType.$dirty || submitted))">
                                        This cannot be empty
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row form-group col-sm-12">
                        <label for="countAsDonation" class="col-sm-2 control-label">Count As Donation</label>
                        <div class="col-sm-8">
                            <div class="checkbox">
                                <input type="checkbox"  id="countAsDonation" name="countAsDonation"  ng-model="packType.countAsDonation" />
                            </div>
                        </div>
                    </div>

                    <div class="row form-group col-sm-12">
                        <label for="componentType" class="col-sm-2 control-label">Component Type</label>
                        <div class="col-sm-6">
                            <div class="form-inline">
                                <select  ng-disabled="!packType.countAsDonation" id="componentType" name="componentType" class="form-control input-sm" ng-model="packType.productType.id" ng-options="item.id as item.productTypeName for item in componentTypes"  ng-required="packType.countAsDonation"
                                        ng-class="{'ng-invalid ng-dirty' : packTypeForm.componentType.$invalid && submitted}">
                                    <option value="" ng-disabled="true">Component Type</option>
                                </select>
                                <div>
                                    <small class="error"
                                           ng-show="(packTypeForm.componentType.$error.required && (packTypeForm.componentType.$dirty || submitted))">
                                        This cannot be empty
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row form-group col-sm-12">
                        <label for="periodBetweenDonations" class="col-sm-2 control-label">Period Between Donations</label>
                        <div class="col-sm-8">
                            <div class="form-inline">
                                <input size="20" id="periodBetweenDonations"  name="periodBetweenDonations" class="form-control input-sm" ng-model="packType.periodBetweenDonations" required
                                       ng-minlength=1 ng-maxlength=30
                                       ng-model-options="{ updateOn:'default blur', debounce: { default: 500, blur: 0 } }"
                                       ng-class="{'ng-invalid ng-dirty' : packTypeForm.periodBetweenDonations.$invalid && submitted}"
                                       type="number"
                                />

                                <div>
                                    <small class="error" ng-show="(packTypeForm.periodBetweenDonations.$error.required && (packTypeForm.periodBetweenDonations.$dirty || submitted))">
                                        This cannot be empty
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-1 col-sm-10">
                        <button class="btn btn-primary" type="submit"> Save </button>
                        <button class="btn btn-primary" type="button" ng-click="clear(); go('/packTypes');">Cancel</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>