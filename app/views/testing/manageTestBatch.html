<h3 class="page-header">Manage Test Batches</h3>

<h4>Open Test Batches</h4>
<div ng-switch="openTestBatches" class="col-sm-12">
  <div ng-switch-when="true">
  <div style="padding-bottom: 10px"></div>
    <div class="panel panel-default">
      <div class="panel-body">

        <table ng-table="testBatchTableParams" show-filter="false" class="table">
          <tr ng-repeat="testBatch in $data"
              ng-click=""
              ng-mouseenter="testBatch.$selected = true"
              ng-mouseleave="testBatch.$selected = false"
              ng-class="{'active': testBatch.$selected}">
              <td data-title="'Batch Number'" style="width:25%;" header-class="text-left" class="text-center" sortable="'batchNumber'">
                  {{testBatch.batchNumber}}
              </td>
              <td data-title="'Created On'" style="width:25%;" header-class="text-left" class="text-center" sortable="'createdOn'">
                  {{testBatch.createdOn}}
              </td>
              <td data-title="'Test Samples'" style="width:15%;" header-class="text-left" class="text-center" sortable="'numSamples'">
                  {{testBatch.numSamples}}
              </td>
              <td data-title="'Status'" style="width:25%;" header-class="text-left" class="text-center" sortable="'status'">
                  {{testBatch.status}}
              </td>
              <td data-title="" style="width:10%;" header-class="text-left" class="text-center">
                <span style="font-size: 0.9em;">
                  <em><a ng-click="viewTestBatch(testBatch.batchNumber)"> View </a></em>
                </span>
              </td>
          </tr>
        </table>

      </div>
    </div>
  </div>
  <div ng-switch-when="false">
    <div class="panel panel-default">
      <div class="panel-body">
        <p>
          <em> No open test batches. </em>
        </p>
      </div>
    </div>
  </div>
</div>

<h4>New Test Batch</h4>
<form class="form-horizontal col-sm-12" role="form" ng-submit="addTestBatch(donationBatch)">
  <div class="form-group">
    <label for="name" class="col-sm-2 control-label">Donation Batch</label>
    <div class="row col-sm-10">
      <div class="form-inline" style="padding-left:5px;">
        <select class="form-control input-sm" ng-model="donationBatch.donorPanel" ng-options="item.batchNumber as item.batchNumber for item in donationBatches">
            <option value="" ng-disabled="true">Select:</option>
        </select>
      </div>
    </div>
  </div>

  <div class="form-group"> 
    <div class="col-sm-offset-2 col-sm-4">
      <button class="btn btn-primary" type="submit">Add Batch</button>
      <button class="btn btn-primary" type="submit">Clear</button>
    </div>
  </div>

</form>

